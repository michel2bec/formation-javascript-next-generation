const path = require('path');
const chalk = require('chalk');

// Utils
const mkDirAndFile = require('../lib/mkDirAndFile');

module.exports = function mkDirByPath(targetDir, filename, templatePath) {
  const baseDir = process.cwd();
  const curDir = path.resolve(baseDir, targetDir);
  const output = curDir + '/' + filename;

  return new Promise((resolve, reject) => {
    mkDirAndFile(curDir, err => {
      let error = {
        message: chalk.red(`Error while creating Directory! ${err}`),
        err: err,
      };
      if (err) reject(error);

      console.log(chalk.green(`Directory ${curDir} created!`));
      resolve(output);
    });
  });
};
